 云服务器上配置tomcat
0 现在tomcat 9

1 安装上传组件
yum install -y lrzsz

2 输入rz命令，  分别选java.gz 和 tomcat.gz上传

3 创建目录
mkdir /usr/java
mkdir /usr/tomcat
解压tomcat 9
tar -zxvf jdk-8u202-linux-x64.tar.gz -C /usr/java
tar -zxvf apache-tomcat-9.0.60.tar.gz -C /usr/tomcat

4 配置环境变量
vim /etc/profile
按 i 进入编辑模式，复制入
export JAVA_HOME=/usr/java/jdk1.8.0_202
export JRE_HOME=/usr/java/jdk1.8.0_202/jre
export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JRE_HOME/lib/tools.jar:$CLASSPATH
export PATH=$JAVA_HOME/bin:$JRE_HOME/bin:$PATH
Esc，输入 :wp 保存退出 ，输入 source /etc/profile 让配置生效
输入java -version 看是否配置成功


firewall-cmd --state		//看防火墙状态
没有启动就打开防火墙
systemctl start firewalld  	//启动防火墙
systemctl enable firewalld.service      //开机启动防火墙
firewall-cmd --reload 	//添加规则后重载防火墙

firewall-cmd --zone=public --add-port=8080/tcp --permanent		//检查是否放行端口

vim /usr/tomcat/apache-tomcat-9.0.60/conf/server.xml

打开服务器
cd /usr/tomcat/apache-tomcat-9.0.60/bin/
./startup.sh
查看端口
netstat -tnlp




centos启动tomcat后局域网无法访问，发现8080端口被tcp6占用解决方法
1 在/etc下的sysctl.conf文件末尾添加如下：
vim /etc/sysctl.conf
net.ipv6.confg.all.disable_ipv6=1
net.ipv6.conf.default.disable_ipv6=1
net.ipv6.conf.lo.disable_ipv6=1
然后# reboot，在重新启动tomcat

2 开启8080端口
firewall-cmd --permanent --add-port=8080/tcp 
firewall-cmd --reload

3 重定向80端口到8080端口
firewall-cmd --add-forward-port=port=80:proto=tcp:toport=8080
firewall-cmd --reload
参考：
https://blog.csdn.net/Goblin_664/article/details/73885202



cd /usr/tomcat/apache-tomcat-9.0.60/logs
tail -1000 /usr/tomcat/apache-tomcat-9.0.60/logs/catalina.out
vim /usr/tomcat/apache-tomcat-9.0.60/bin/catalina.sh
生成jre
bin\jlink --module-path jmods --add-modules java.desktop --output jre
mv jre ..







windows 配置tomcat：
1 在startup.bat用记事本打开，在最后添加一个单词   pause
运行startup.bat发现问题是Neither the JAVA_HOME nor the JRE_HOME environment variable is defined
2 编辑bin/setclasspath.bat ，在前面加上 
set JAVA_HOME=C:\Program Files\Java\jdk1.8.0_202
set JRE_HOME=C:\Program Files\Java\jre1.8.0_202
set JAVA_HOME=C:\Program Files\Java\jdk-11.0.13
set JRE_HOME=C:\Program Files\Java\jre
3 再次启动 start.up文件就可以了      启动完成后在浏览器中输入  localhost:8080  出现tomcat页面就可以了
https://blog.csdn.net/tlh002/article/details/95781662




http://localhost:8080/ 的 Manager App进不去 ， 403报错
1 Check the file in <TOMCAT_HOME>/conf named tomcat-users.xml
</tomcat-users>
	<role rolename="manager-gui" />
	<user username="tomcat" password="s3cret" roles="manager-gui" />
</tomcat-users>
2 Check the file in <TOMCAT_HOME>/conf named context.xml
<Context>
	<role rolename="manager-gui" />
	<user username="tomcat" password="s3cret" roles="manager-gui" />
</Context>




pom.xml 报错 web.xml is missing and <failOnMissingWebXml> is set to true
<properties>
    <failOnMissingWebXml>false</failOnMissingWebXml>
</properties>
https://stackoverflow.com/questions/31835033/web-xml-is-missing-and-failonmissingwebxml-is-set-to-true




ssm-crud右键，run as- Maven install
打包项目报错


Java安装jdk11 没有jre
cd G:\Program Files\Java\jdk-11.0.3\bin
jlink.exe --module-path jmods --add-modules java.desktop --output jre
生成的jre，但是tomcat还是用不了
在清华镜像下载
https://mirrors.tuna.tsinghua.edu.cn/AdoptOpenJDK/11/jre/x64/windows/
下载这个，安装，配置jre环境变了
OpenJDK11U-jre_x64_windows_hotspot_11.0.14.1_1.msi



用idea打包出来war，测试用的链接:
http://localhost:8080/ssm_crud_war/emps
















linux命令
剪切
mv apache-tomcat-9.0.60 /usr/tomcat
复制
cp apache-tomcat-9.0.60 /usr/tomcat


https://www.bilibili.com/video/BV1s4411D7sC?spm_id_from=333.337.search-card.all.click


























